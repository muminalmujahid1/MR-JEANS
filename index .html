<!doctype html>
<html lang="bn">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>MRJEANS</title>
<meta name="description" content="Professional E-Commerce demo with WhatsApp">
<style>
:root{
  --bg:#f4f7fb; --card:#ffffff; --accent:#0b74ff; --accent2:#1aa0ff; --muted:#6b7280;
  --success:#16a34a; --danger:#ef4444; --hover:#0a64e0;
}
[data-theme="dark"]{
  --bg:#1f2937; --card:#374151; --accent:#3b82f6; --accent2:#1e40af; --muted:#9ca3af; 
  --success:#22c55e; --danger:#ef4444; color:#f9fafb;
}
*{box-sizing:border-box;transition:all 0.2s}
body{margin:0;font-family:Inter,sans-serif;color:inherit;background:var(--bg);}
a{color:inherit;text-decoration:none}
header{background:linear-gradient(90deg,var(--accent),var(--accent2));color:#fff;padding:18px;display:flex;justify-content:space-between;align-items:center;border-bottom:4px solid var(--accent2)}
.wrap{max-width:1200px;margin:20px auto;padding:16px}
h1,h2,h3{margin:6px 0}
h2{text-align:center;color:var(--accent);}
input[type="search"]{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.18);background:rgba(255,255,255,0.1);color:#fff}
.products{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:16px;margin-top:18px}
.card{background:var(--card);border-radius:12px;padding:12px;box-shadow:0 6px 18px rgba(2,6,23,0.06);transition:transform 0.2s, box-shadow 0.2s;cursor:pointer;}
.card:hover{transform:translateY(-6px);box-shadow:0 12px 28px rgba(0,0,0,0.25);}
.card img{width:100%;height:160px;object-fit:cover;border-radius:8px;transition:transform 0.3s;}
.card img:hover{transform:scale(1.05);}
.price{font-weight:700;margin-top:6px;color:var(--accent2);}
.muted{color:var(--muted);font-size:13px}
.btn{padding:8px 12px;border-radius:8px;border:0;cursor:pointer;transition:all 0.2s;}
.btn-primary{background:var(--accent);color:#fff;}
.btn-primary:hover{background:var(--hover);}
.btn-ghost{background:transparent;border:1px solid #e6e9ef;}
.flex{display:flex;gap:12px;align-items:center}
.cart-btn{position:relative}
.cart-count{position:absolute;top:-8px;right:-8px;background:var(--danger);color:#fff;border-radius:999px;padding:4px 7px;font-size:12px}
.drawer{position:fixed;right:18px;top:80px;width:380px;max-width:95%;height:80vh;background:var(--card);box-shadow:0 14px 40px rgba(2,6,23,0.12);border-radius:12px;padding:12px;display:flex;flex-direction:column;z-index:999;overflow:auto}
.drawer.hidden{display:none}
.cart-item{display:flex;gap:10px;align-items:center;padding:8px 0;border-bottom:1px dashed #eee}
.cart-item img{width:64px;height:64px;object-fit:cover;border-radius:8px}
.qty{display:flex;align-items:center;gap:6px}
.small{font-size:13px;color:var(--muted)}
.modal-backdrop{position:fixed;inset:0;background:rgba(2,6,23,0.45);display:flex;align-items:center;justify-content:center;z-index:1500;opacity:0;pointer-events:none;transition:opacity 0.2s}
.modal-backdrop.show{opacity:1;pointer-events:auto}
.modal{width:720px;max-width:95%;background:var(--card);border-radius:12px;padding:16px;max-height:90vh;overflow:auto;position:relative;animation:fadeIn 0.3s}
@keyframes fadeIn{from{opacity:0;transform:scale(0.95)}to{opacity:1;transform:scale(1)}}
.modal img{width:100%;height:280px;object-fit:cover;border-radius:8px}
.modal h3{margin:12px 0 6px 0;color:var(--accent2);}
.close-modal{position:absolute;top:12px;right:12px;background:#ef4444;color:#fff;border:none;padding:6px 10px;border-radius:6px;cursor:pointer}
form .row{display:flex;gap:10px}
form input, form textarea, form select{width:100%;padding:10px;border-radius:8px;border:1px solid #e6e9ef}
footer{margin:24px 0;text-align:center;color:var(--muted);font-size:14px}
.theme-toggle{background:#fff;color:#0b74ff;padding:6px 12px;border-radius:6px;cursor:pointer;font-weight:bold}
@media(max-width:720px){.row{flex-direction:column}.drawer{width:92%}}
</style>
</head>
<body data-theme="light">
<header>
<div style="display:flex;align-items:center;gap:12px">
<img src="https://i.postimg.cc/3JHb4B7Y/Untitled-design-(3).png" alt="logo" style="width:88px;height:88px;border-radius:50px">
<div>
<h1 style="margin:0;font-size:40px">MRJEANS</h1>
<div class="muted" style="margin:0;font-size:20px">unlimited products</div>
</div>
</div>
<div class="flex" style="min-width:220px;gap:8px">
<input id="search" type="search" placeholder="Search products...">
<button id="cartOpen" class="btn cart-btn btn-primary" title="View cart">Cart <span id="cartCount" class="cart-count" style="display:none">0</span></button>
<button id="themeToggle" class="theme-toggle">Dark Mode</button>
</div>
</header>

<main class="wrap">
<section>
<div style="display:flex;align-items:center;justify-content:space-between">
<h2>Products</h2>
<div class="muted"></div>
</div>
<div id="products" class="products" aria-live="polite"></div>
</section>
</main>

<div id="drawer" class="drawer hidden" aria-hidden="true">
<div style="display:flex;justify-content:space-between;align-items:center">
<h3 style="margin:0">Your Cart</h3>
<div class="small muted">(<span id="cartItemsCount">0</span> items)</div>
</div>
<div id="cartList" style="margin-top:12px;flex:1;overflow:auto"></div>
<div style="margin-top:10px">
<div style="display:flex;justify-content:space-between;align-items:center;padding:10px 0">
<div class="muted">Subtotal</div>
<div style="font-weight:700">৳ <span id="cartSubtotal">0</span></div>
</div>
<div style="display:flex;gap:8px">
<button id="checkoutBtn" class="btn btn-primary" style="flex:1">Checkout</button>
<button id="clearCartBtn" class="btn btn-ghost" style="flex:1">Clear</button>
</div>
</div>
</div>

<div id="productModal" class="modal-backdrop">
<div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
<button class="close-modal" id="closeProductModal">X</button>
<img id="modalImg" src="" alt="">
<h3 id="modalTitle"></h3>
<div class="price" id="modalPrice"></div>
<div class="muted" id="modalDesc"></div>
<button class="btn btn-primary" id="modalAddToCart">Add to Cart</button>
</div>
</div>

<div id="checkoutModal" class="modal-backdrop">
<div class="modal" role="dialog" aria-modal="true" aria-labelledby="checkoutTitle">
<div style="display:flex;justify-content:space-between;align-items:center">
<h2 id="checkoutTitle">Checkout</h2>
<button id="closeCheckoutModal" class="btn btn-ghost">Close</button>
</div>
<form id="checkoutForm" style="margin-top:12px">
<div class="row">
<input id="custName" type="text" placeholder="পুরো নাম" required>
<input id="custPhone" type="text" placeholder="মোবাইল" required>
</div>
<div style="margin-top:8px">
<textarea id="custAddress" rows="3" placeholder="পূর্ণ ঠিকানা" required></textarea>
</div>
<h3 style="margin-top:14px">Order Summary</h3>
<div id="summary" style="margin-top:8px"></div>
<div style="margin-top:12px;display:flex;gap:8px">
<select id="paymentMethod" style="min-width:160px">
<option value="cod">Cash on Delivery</option>
</select>
<button id="placeOrderBtn" class="btn btn-primary" style="flex:1">Place Order</button>
</div>
<div id="checkoutStatus" class="muted" style="margin-top:10px"></div>
</form>
</div>
</div>

<footer class="wrap">
<div class="muted">Professional demo site. Orders open WhatsApp.</div>
</footer>

<script>
const WHATSAPP_NUMBER='8801984711385';
const SAMPLE_PRODUCTS = [
  {
    id: "p1",
    title: "Pent",
    price: 1200,
    img: "https://i.postimg.cc/mgfCjXkp/Gemini-Generated-Image-2zfhjy2zfhjy2zfh.png/400/300", 
    desc: "High quality denim pent — comfortable and stylish."
  },
  {
    id: "p2",
    title: "Premium Jeans",
    price: 1400,
    img: "https://i.postimg.cc/mgfCjXkp/Gemini-Generated-Image-2zfhjy2zfhjy2zfh.png/400/300",
    desc: "Premium fit jeans with soft fabric."
  },
  {
    id: "p3",
    title: "Black Denim",
    price: 1100,
    img: "https://i.postimg.cc/wvpsc7B7/Gemini-Generated-Image-ij1jcaij1jcaij1j.png/400/300",
    desc: "Classic black denim, durable and stylish."
  },
  {
    id: "p4",
    title: "Slim Fit Jeans",
    price: 1350,
    img: "https://i.postimg.cc/vHgHTGQk/Gemini-Generated-Image-lb9qlvlb9qlvlb9q.png/400/300",
    desc: "Slim fit stretchable denim for everyday wear."
  },
];


let CART=[];
const productsEl=document.getElementById('products');
const cartListEl=document.getElementById('cartList');
const cartCountEl=document.getElementById('cartCount');
const cartItemsCountEl=document.getElementById('cartItemsCount');
const cartSubtotalEl=document.getElementById('cartSubtotal');
const drawer=document.getElementById('drawer');
const productModal=document.getElementById('productModal');
const modalImg=document.getElementById('modalImg');
const modalTitle=document.getElementById('modalTitle');
const modalPrice=document.getElementById('modalPrice');
const modalDesc=document.getElementById('modalDesc');
const modalAddToCart=document.getElementById('modalAddToCart');
let currentModalProduct=null;

function renderProducts(list){
  productsEl.innerHTML='';
  list.forEach(p=>{
    const el=document.createElement('div'); el.className='card';
    el.innerHTML=`
      <img src="${p.img}" alt="${p.title}" data-id="${p.id}">
      <h3>${p.title}</h3>
      <div class="price">৳ ${p.price}</div>
      <div style="margin-top:10px;display:flex;gap:8px">
        <button class="btn btn-primary" data-action="add" data-id="${p.id}">Add to cart</button>
        <button class="btn btn-ghost" data-action="view" data-id="${p.id}">View</button>
      </div>
    `;
    productsEl.appendChild(el);
  });
}

function renderCart(){
  cartListEl.innerHTML='';
  if(CART.length===0){cartListEl.innerHTML='<div class="muted">Cart is empty.</div>';cartCountEl.style.display='none';cartItemsCountEl.textContent='0';cartSubtotalEl.textContent='0'; return;}
  cartCountEl.style.display='inline-block'; cartCountEl.textContent=CART.reduce((s,i)=>s+i.qty,0);
  cartItemsCountEl.textContent=CART.length;
  let subtotal=0;
  CART.forEach(item=>{
    const p=SAMPLE_PRODUCTS.find(x=>x.id===item.productId);
    subtotal+=p.price*item.qty;
    const node=document.createElement('div'); node.className='cart-item';
    node.innerHTML=`
      <img src="${p.img}" alt="${p.title}">
      <div style="flex:1">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div><strong>${p.title}</strong></div>
          <div class="small">৳ ${p.price}</div>
        </div>
        <div style="display:flex;justify-content:space-between;align-items:center;margin-top:6px">
          <div class="qty">
            <button class="btn btn-ghost small" data-action="dec" data-id="${item.productId}">-</button>
            <div class="small" style="padding:6px 8px;border:1px solid #eee;border-radius:6px">${item.qty}</div>
            <button class="btn btn-ghost small" data-action="inc" data-id="${item.productId}">+</button>
          </div>
          <div style="display:flex;gap:8px;align-items:center">
            <div class="small">৳ ${p.price*item.qty}</div>
            <button class="btn" data-action="remove" data-id="${item.productId}">Remove</button>
          </div>
        </div>
      </div>
    `;
    cartListEl.appendChild(node);
  });
  cartSubtotalEl.textContent=subtotal;
}

function addToCart(id, qty=1){
  const exist=CART.find(x=>x.productId===id);
  if(exist){exist.qty+=qty}else{CART.push({productId:id, qty})}
  renderCart(); drawer.classList.remove('hidden'); drawer.setAttribute('aria-hidden','false');
}

function openProductModal(product){
  currentModalProduct=product;
  modalImg.src=product.img;
  modalTitle.textContent=product.title;
  modalPrice.textContent='৳ '+product.price;
  modalDesc.textContent=product.desc;
  productModal.classList.add('show');
}
document.getElementById('closeProductModal').addEventListener('click', ()=>{productModal.classList.remove('show');});

productsEl.addEventListener('click', e=>{
  const btn=e.target.closest('button'); 
  const img=e.target.closest('img');
  if(img){
    const p=SAMPLE_PRODUCTS.find(x=>x.id===img.dataset.id);
    openProductModal(p);
    return;
  }
  if(!btn) return;
  const action=btn.getAttribute('data-action');
  const id=btn.getAttribute('data-id');
  const product=SAMPLE_PRODUCTS.find(x=>x.id===id);
  if(action==='add') addToCart(id);
  if(action==='view') openProductModal(product);
});
modalAddToCart.addEventListener('click', ()=>{if(currentModalProduct){addToCart(currentModalProduct.id); productModal.classList.remove('show');}});

cartListEl.addEventListener('click', e=>{
  const btn=e.target.closest('button'); if(!btn) return;
  const action=btn.getAttribute('data-action'); const id=btn.getAttribute('data-id');
  if(action==='inc'){CART.find(x=>x.productId===id).qty++; renderCart()}
  if(action==='dec'){const idx=CART.findIndex(x=>x.productId===id); CART[idx].qty--; if(CART[idx].qty<=0) CART.splice(idx,1); renderCart()}
  if(action==='remove'){CART=CART.filter(x=>x.productId!==id); renderCart()}
});

// Cart open/clear
document.getElementById('cartOpen').addEventListener('click', ()=>{
  drawer.classList.toggle('hidden'); 
  drawer.setAttribute('aria-hidden',drawer.classList.contains('hidden')?'true':'false');
});
document.getElementById('clearCartBtn').addEventListener('click', ()=>{
  if(confirm('Clear cart?')){CART=[]; renderCart();}
});

// Checkout
const checkoutModal=document.getElementById('checkoutModal');
document.getElementById('checkoutBtn').addEventListener('click', ()=>{
  if(CART.length===0){alert('Cart empty'); return;} 
  checkoutModal.classList.add('show');
});
document.getElementById('closeCheckoutModal').addEventListener('click', ()=>{
  checkoutModal.classList.remove('show');
});
document.getElementById('checkoutForm').addEventListener('submit', e=>{
  e.preventDefault();
  const name=document.getElementById('custName').value.trim();
  const phone=document.getElementById('custPhone').value.trim();
  const address=document.getElementById('custAddress').value.trim();
  if(!name||!phone||!address){alert('Fill all fields'); return;}
  if(CART.length===0){alert('Cart empty'); return;}
  let msg=`New Order:%0aName: ${name}%0aPhone: ${phone}%0aAddress: ${address}%0a%0aItems:%0a`;
  CART.forEach(it=>{
    const p=SAMPLE_PRODUCTS.find(x=>x.id===it.productId); 
    msg+=`${p.title} x${it.qty} - ৳${p.price*it.qty}%0a`;
  });
  msg+=`%0aTotal: ৳${CART.reduce((s,it)=>s+SAMPLE_PRODUCTS.find(x=>x.id===it.productId).price*it.qty,0)}`;
  window.open(`https://wa.me/${WHATSAPP_NUMBER}?text=${msg}`,'_blank');
  alert('Order sent via WhatsApp!');
  CART=[]; renderCart(); checkoutModal.classList.remove('show');
});

// Search filter
document.getElementById('search').addEventListener('input', e=>{
  const q=e.target.value.toLowerCase();
  const filtered=SAMPLE_PRODUCTS.filter(p=>p.title.toLowerCase().includes(q));
  renderProducts(filtered);
});

// Theme toggle
const themeToggle=document.getElementById('themeToggle');
themeToggle.addEventListener('click', ()=>{
  const body=document.body;
  if(body.dataset.theme==='light'){
    body.dataset.theme='dark';
    themeToggle.textContent='Light Mode';
  } else{
    body.dataset.theme='light';
    themeToggle.textContent='Dark Mode';
  }
});

// Initial render
renderProducts(SAMPLE_PRODUCTS);
renderCart();
</script>

<!-- Optional Popup ad -->
<script type="text/javascript" src="//pl27955607.effectivegatecpm.com/0d/4b/47/0d4b47b1dd2ba0a138ea436f400e14cf.js"></script>
</body>
</html>
